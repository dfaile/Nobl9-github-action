# Development Scripts

This directory contains utility scripts for development and testing of the Nobl9 GitHub Action.

## Available Scripts

### `setup-local.sh`
**Purpose**: Automated setup script for local development environment

**Usage**:
```bash
# Run from the project root directory
./scripts/setup-local.sh
```

**What it does**:
- Checks prerequisites (Go, Docker, Node.js)
- Sets up environment variables
- Installs Go dependencies
- Builds the application
- Creates test files
- Runs initial tests
- Creates development helper scripts

**Requirements**:
- Go 1.21+
- Docker (optional)
- Node.js 18+ (optional, for Backstage testing)

### `test-local.sh` (Generated by setup script)
**Purpose**: Test the action locally with your credentials

**Usage**:
```bash
# After running setup-local.sh
cd action
./scripts/test-local.sh
```

**What it does**:
- Loads environment variables from `.env`
- Runs the action in dry-run mode
- Tests with sample YAML files

### `test-docker.sh` (Generated by setup script)
**Purpose**: Test the action using Docker

**Usage**:
```bash
# After running setup-local.sh
cd action
./scripts/test-docker.sh
```

### `test-action.sh` (Convenience script)
**Purpose**: Test the action from the root directory (automatically navigates to action directory)

**Usage**:
```bash
# From the project root directory
./scripts/test-action.sh
```

**What it does**:
- Automatically navigates to the action directory
- Loads environment variables from `.env`
- Checks for credentials
- Builds the application if needed
- Runs the action in dry-run mode

**What it does**:
- Loads environment variables from `.env`
- Runs the action in a Docker container
- Tests with sample YAML files

## Quick Start

1. **Clone the repository**:
   ```bash
   git clone https://github.com/your-org/nobl9-github-action.git
   cd nobl9-github-action
   ```

2. **Run the setup script**:
   ```bash
   ./scripts/setup-local.sh
   ```

3. **Edit the `.env` file** with your Nobl9 credentials:
   ```bash
   nano .env
   ```

4. **Test the action**:
   ```bash
   # From root directory (recommended)
   ./scripts/test-action.sh
   ```

## Manual Setup

If you prefer to set up manually, see the detailed guide in `docs/local-development-setup.md`.

## Troubleshooting

### Common Issues

**Script not executable**:
```bash
chmod +x scripts/setup-local.sh
```

**Go not found**:
- Install Go 1.21+ from https://golang.org/dl/

**Docker not found**:
- Install Docker from https://www.docker.com/products/docker-desktop/

**Node.js not found**:
- Install Node.js 18+ from https://nodejs.org/

### Getting Help

- Check the main documentation: `docs/local-development-setup.md`
- Review the test results: `test-results.log`
- Check the application logs for detailed error messages 